{% extends "cards/base.html" %}

{% block content %}
<section class="section">
    <div class="container">
        <!-- Title based on whether editing or creating -->
        {% if card %}
        <h2 class="title">✏️ Edit Card</h2>
        {% else %}
        <h2 class="title">✨ Create New Card</h2>
        {% endif %}

        <!-- Display messages -->
        {% if messages %}
        <ul class="messages">
            {% for message in messages %}
            <li{% if message.tags %} class="{{ message.tags }}" {% endif %}>{{ message }}</li>
                {% endfor %}
        </ul>
        {% endif %}

        <!-- Form for creating or editing a card -->
        <form method="post">
            {% csrf_token %}
            <div class="field">
                <label class="label">Anishinaabemowin</label>
                <div class="control">
                    {{ form.anishinaabemowin }}
                </div>
            </div>
            <div class="field">
                <label class="label">English</label>
                <div class="control">
                    {{ form.english }}
                </div>
            </div>
            <div class="field">
                <label class="label">Select Current Deck (Subject)</label>
                <div class="control">
                    {{ form.subject }}
                </div>
            </div>
            <div class="field">
                <label class="label">Or Enter a New Deck Name</label>
                <div class="control">
                    {{ form.new_subject }}
                </div>
            </div>
            <div class="field">
                <div class="control">
                    <button type="submit" class="button is-primary">Save Card</button>
                </div>
            </div>
        </form>

        <!-- Cancel link -->
        <a href="{% url 'card-list' %}" class="button is-light mt-3">Cancel</a>
    </div>
</section>
{% endblock %}