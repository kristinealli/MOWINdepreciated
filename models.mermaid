erDiagram
    User ||--o{ Deck : owns
    User ||--|| Profile : has
    User ||--o{ UserDeck : studies
    User ||--o{ UserCardProgress : tracks

    Deck ||--o{ UserDeck : "tracked by"
    Deck }o--o{ Card : contains

    Card ||--o{ UserCardProgress : "tracked by"

    User {
        int id PK
        string username
        string email
        string password
    }

    Profile {
        int id PK
        int user_id FK
        int study_streak
        date last_study_date
        int total_cards_studied
        datetime created_at
        datetime updated_at
    }

    Deck {
        int id PK
        int owner_id FK
        string name
        string description
        datetime created_at
        datetime updated_at
        boolean is_public
        string category
        string tags
        datetime last_reviewed
        int review_count
    }

    Card {
        int id PK
        string anishinaabemowin
        string english
        string pronunciation
        string subject
        int box
        datetime date_created
        boolean known
    }

    UserDeck {
        int id PK
        int user_id FK
        int deck_id FK
        datetime last_reviewed
        boolean is_favorite
        float progress
        int cards_mastered
        int review_streak
        datetime next_review_date
        string custom_notes
        int total_reviews
        int correct_answers
        int incorrect_answers
    }

    UserCardProgress {
        int id PK
        int user_id FK
        int card_id FK
        int box_level
        datetime last_reviewed
        datetime next_review_date
        boolean round_completed
        boolean known
        int total_attempts
        int correct_attempts
        int streak
        string notes
        int difficulty_rating
    }